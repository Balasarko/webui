<div class="reports-toolbar">
  <form class="reports-dash-global-controls" fxLayout="row" fxLayoutAlign="center center" [formGroup]="form">
    <ix-slide-toggle
      formControlName="autoRefresh"
      color="primary"
      labelPosition="before"
      [label]="'Auto Refresh' | translate"
    ></ix-slide-toggle>

    <ng-container *ngIf="activeTab?.value === ReportType.Disk">
      <ix-select
        formControlName="devices"
        [label]="'Devices' | translate"
        [options]="diskDevices$"
        [multiple]="true"
      ></ix-select>

      <ix-select
        formControlName="metrics"
        [label]="'Metrics' | translate"
        [options]="diskMetrics$"
        [multiple]="true"
      ></ix-select>
    </ng-container>

    <button
      mat-button
      color="primary"
      class="menu-toggle"
      ix-auto
      ix-auto-type="button"
      ix-auto-identifier="tab-selector"
      [matMenuTriggerFor]="categoryMenu"
    >
      {{ activeTab.label }}
      <ix-icon name="arrow_drop_down" class="menu-caret"></ix-icon>
    </button>

    <mat-menu #categoryMenu="matMenu" overlapTrigger="false" class="reports-menu">
      <div>
        <button
          *ngFor="let tab of allTabs"
          mat-menu-item
          ix-auto
          ix-auto-type="option"
          [ix-auto-identifier]="tab.label"
          (click)="onNavigateToTab(tab)"
          [class.selected]="isActiveTab(tab)"
        >{{ tab.label | translate }}</button>
      </div>
    </mat-menu>

    <button
      mat-icon-button
      ix-auto
      ix-auto-type="button"
      class="config-form-button"
      (click)="showConfigForm()"
    >
      <ix-icon
        name="settings"
        matTooltipPosition="below"
        [matTooltip]="'Reports Configuration' | translate"
      ></ix-icon>
    </button>
  </form>
</div>
